{
  "entityType" : "RULE_CHAIN",
  "entity" : {
    "additionalInfo" : {
      "description" : ""
    },
    "configuration" : null,
    "debugMode" : false,
    "externalId" : {
      "entityType" : "RULE_CHAIN",
      "id" : "f73db070-c555-11ec-9326-67c26095a051"
    },
    "firstRuleNodeId" : {
      "entityType" : "RULE_NODE",
      "id" : "79462662-b69b-11ed-a59b-fb6dc01397e0"
    },
    "id" : {
      "entityType" : "RULE_CHAIN",
      "id" : "f73db070-c555-11ec-9326-67c26095a051"
    },
    "name" : "Pencere Senaryo",
    "root" : false,
    "type" : "CORE"
  },
  "metaData" : {
    "connections" : [ {
      "fromIndex" : 0,
      "toIndex" : 5,
      "type" : "Success"
    }, {
      "fromIndex" : 1,
      "toIndex" : 4,
      "type" : "Success"
    }, {
      "fromIndex" : 2,
      "toIndex" : 1,
      "type" : "Success"
    }, {
      "fromIndex" : 3,
      "toIndex" : 0,
      "type" : "True"
    }, {
      "fromIndex" : 4,
      "toIndex" : 3,
      "type" : "Success"
    }, {
      "fromIndex" : 6,
      "toIndex" : 2,
      "type" : "Success"
    }, {
      "fromIndex" : 7,
      "toIndex" : 8,
      "type" : "Success"
    }, {
      "fromIndex" : 9,
      "toIndex" : 10,
      "type" : "False"
    }, {
      "fromIndex" : 9,
      "toIndex" : 51,
      "type" : "True"
    }, {
      "fromIndex" : 9,
      "toIndex" : 58,
      "type" : "True"
    }, {
      "fromIndex" : 10,
      "toIndex" : 11,
      "type" : "False"
    }, {
      "fromIndex" : 10,
      "toIndex" : 87,
      "type" : "True"
    }, {
      "fromIndex" : 10,
      "toIndex" : 88,
      "type" : "True"
    }, {
      "fromIndex" : 11,
      "toIndex" : 6,
      "type" : "True"
    }, {
      "fromIndex" : 11,
      "toIndex" : 7,
      "type" : "True"
    }, {
      "fromIndex" : 11,
      "toIndex" : 12,
      "type" : "False"
    }, {
      "fromIndex" : 12,
      "toIndex" : 42,
      "type" : "True"
    }, {
      "fromIndex" : 13,
      "toIndex" : 14,
      "type" : "Success"
    }, {
      "fromIndex" : 14,
      "toIndex" : 47,
      "type" : "Success"
    }, {
      "fromIndex" : 15,
      "toIndex" : 20,
      "type" : "Success"
    }, {
      "fromIndex" : 16,
      "toIndex" : 19,
      "type" : "Success"
    }, {
      "fromIndex" : 17,
      "toIndex" : 16,
      "type" : "Success"
    }, {
      "fromIndex" : 18,
      "toIndex" : 15,
      "type" : "True"
    }, {
      "fromIndex" : 19,
      "toIndex" : 18,
      "type" : "Success"
    }, {
      "fromIndex" : 21,
      "toIndex" : 17,
      "type" : "Success"
    }, {
      "fromIndex" : 22,
      "toIndex" : 23,
      "type" : "Success"
    }, {
      "fromIndex" : 24,
      "toIndex" : 29,
      "type" : "Success"
    }, {
      "fromIndex" : 25,
      "toIndex" : 28,
      "type" : "Success"
    }, {
      "fromIndex" : 26,
      "toIndex" : 25,
      "type" : "Success"
    }, {
      "fromIndex" : 27,
      "toIndex" : 24,
      "type" : "True"
    }, {
      "fromIndex" : 28,
      "toIndex" : 27,
      "type" : "Success"
    }, {
      "fromIndex" : 30,
      "toIndex" : 26,
      "type" : "Success"
    }, {
      "fromIndex" : 31,
      "toIndex" : 32,
      "type" : "Success"
    }, {
      "fromIndex" : 33,
      "toIndex" : 38,
      "type" : "Success"
    }, {
      "fromIndex" : 34,
      "toIndex" : 37,
      "type" : "Success"
    }, {
      "fromIndex" : 35,
      "toIndex" : 34,
      "type" : "Success"
    }, {
      "fromIndex" : 36,
      "toIndex" : 33,
      "type" : "True"
    }, {
      "fromIndex" : 37,
      "toIndex" : 36,
      "type" : "Success"
    }, {
      "fromIndex" : 39,
      "toIndex" : 35,
      "type" : "Success"
    }, {
      "fromIndex" : 40,
      "toIndex" : 41,
      "type" : "Success"
    }, {
      "fromIndex" : 42,
      "toIndex" : 21,
      "type" : "True"
    }, {
      "fromIndex" : 42,
      "toIndex" : 22,
      "type" : "True"
    }, {
      "fromIndex" : 42,
      "toIndex" : 43,
      "type" : "False"
    }, {
      "fromIndex" : 43,
      "toIndex" : 30,
      "type" : "True"
    }, {
      "fromIndex" : 43,
      "toIndex" : 31,
      "type" : "True"
    }, {
      "fromIndex" : 43,
      "toIndex" : 44,
      "type" : "False"
    }, {
      "fromIndex" : 44,
      "toIndex" : 39,
      "type" : "True"
    }, {
      "fromIndex" : 44,
      "toIndex" : 40,
      "type" : "True"
    }, {
      "fromIndex" : 45,
      "toIndex" : 50,
      "type" : "Success"
    }, {
      "fromIndex" : 46,
      "toIndex" : 49,
      "type" : "Success"
    }, {
      "fromIndex" : 47,
      "toIndex" : 46,
      "type" : "Success"
    }, {
      "fromIndex" : 48,
      "toIndex" : 45,
      "type" : "True"
    }, {
      "fromIndex" : 49,
      "toIndex" : 48,
      "type" : "Success"
    }, {
      "fromIndex" : 51,
      "toIndex" : 13,
      "type" : "Success"
    }, {
      "fromIndex" : 52,
      "toIndex" : 56,
      "type" : "Success"
    }, {
      "fromIndex" : 53,
      "toIndex" : 56,
      "type" : "Success"
    }, {
      "fromIndex" : 54,
      "toIndex" : 56,
      "type" : "Success"
    }, {
      "fromIndex" : 55,
      "toIndex" : 56,
      "type" : "Success"
    }, {
      "fromIndex" : 57,
      "toIndex" : 93,
      "type" : "Alarm Created"
    }, {
      "fromIndex" : 57,
      "toIndex" : 93,
      "type" : "Alarm Updated"
    }, {
      "fromIndex" : 57,
      "toIndex" : 94,
      "type" : "Alarm Cleared"
    }, {
      "fromIndex" : 57,
      "toIndex" : 98,
      "type" : "Success"
    }, {
      "fromIndex" : 58,
      "toIndex" : 59,
      "type" : "Success"
    }, {
      "fromIndex" : 60,
      "toIndex" : 61,
      "type" : "Success"
    }, {
      "fromIndex" : 62,
      "toIndex" : 63,
      "type" : "Success"
    }, {
      "fromIndex" : 64,
      "toIndex" : 65,
      "type" : "Success"
    }, {
      "fromIndex" : 66,
      "toIndex" : 60,
      "type" : "True"
    }, {
      "fromIndex" : 66,
      "toIndex" : 67,
      "type" : "False"
    }, {
      "fromIndex" : 67,
      "toIndex" : 62,
      "type" : "True"
    }, {
      "fromIndex" : 67,
      "toIndex" : 68,
      "type" : "False"
    }, {
      "fromIndex" : 68,
      "toIndex" : 64,
      "type" : "True"
    }, {
      "fromIndex" : 69,
      "toIndex" : 70,
      "type" : "Success"
    }, {
      "fromIndex" : 71,
      "toIndex" : 72,
      "type" : "False"
    }, {
      "fromIndex" : 71,
      "toIndex" : 77,
      "type" : "True"
    }, {
      "fromIndex" : 72,
      "toIndex" : 73,
      "type" : "False"
    }, {
      "fromIndex" : 72,
      "toIndex" : 90,
      "type" : "True"
    }, {
      "fromIndex" : 73,
      "toIndex" : 69,
      "type" : "True"
    }, {
      "fromIndex" : 73,
      "toIndex" : 74,
      "type" : "False"
    }, {
      "fromIndex" : 74,
      "toIndex" : 66,
      "type" : "True"
    }, {
      "fromIndex" : 75,
      "toIndex" : 76,
      "type" : "Success"
    }, {
      "fromIndex" : 77,
      "toIndex" : 78,
      "type" : "Success"
    }, {
      "fromIndex" : 78,
      "toIndex" : 79,
      "type" : "Success"
    }, {
      "fromIndex" : 79,
      "toIndex" : 80,
      "type" : "Success"
    }, {
      "fromIndex" : 80,
      "toIndex" : 75,
      "type" : "Success"
    }, {
      "fromIndex" : 81,
      "toIndex" : 86,
      "type" : "Success"
    }, {
      "fromIndex" : 82,
      "toIndex" : 85,
      "type" : "Success"
    }, {
      "fromIndex" : 83,
      "toIndex" : 82,
      "type" : "Success"
    }, {
      "fromIndex" : 84,
      "toIndex" : 81,
      "type" : "True"
    }, {
      "fromIndex" : 85,
      "toIndex" : 84,
      "type" : "Success"
    }, {
      "fromIndex" : 87,
      "toIndex" : 83,
      "type" : "Success"
    }, {
      "fromIndex" : 88,
      "toIndex" : 89,
      "type" : "Success"
    }, {
      "fromIndex" : 90,
      "toIndex" : 91,
      "type" : "Success"
    }, {
      "fromIndex" : 92,
      "toIndex" : 57,
      "type" : "Success"
    }, {
      "fromIndex" : 93,
      "toIndex" : 95,
      "type" : "Success"
    }, {
      "fromIndex" : 94,
      "toIndex" : 96,
      "type" : "Success"
    }, {
      "fromIndex" : 95,
      "toIndex" : 9,
      "type" : "True"
    }, {
      "fromIndex" : 96,
      "toIndex" : 71,
      "type" : "True"
    }, {
      "fromIndex" : 97,
      "toIndex" : 101,
      "type" : "Post telemetry"
    }, {
      "fromIndex" : 98,
      "toIndex" : 97,
      "type" : "False"
    }, {
      "fromIndex" : 98,
      "toIndex" : 99,
      "type" : "True"
    }, {
      "fromIndex" : 99,
      "toIndex" : 97,
      "type" : "False"
    }, {
      "fromIndex" : 99,
      "toIndex" : 100,
      "type" : "True"
    }, {
      "fromIndex" : 100,
      "toIndex" : 97,
      "type" : "Success"
    } ],
    "firstNodeIndex" : 92,
    "nodes" : [ {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 2110,
        "layoutY" : 1406
      },
      "configuration" : {
        "scriptLang" : "JS",
        "jsScript" : "metadata.topic = 'pencere/'+ metadata.deviceName + '/downlink'\nreturn {msg: msg, metadata: metadata, msgType: msgType};",
        "tbelScript" : null
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "79434030-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "add Topic",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.transform.TbTransformMsgNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 1302,
        "layoutY" : 1399
      },
      "configuration" : {
        "jsScript" : "var newMsg = {};\nnewMsg.positionC = 6;\nreturn {msg: newMsg, metadata: metadata, msgType: msgType};"
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "79434031-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "add positionC = 6",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.transform.TbTransformMsgNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 1018,
        "layoutY" : 1402
      },
      "configuration" : {
        "relationsQuery" : {
          "fetchLastLevelOnly" : false,
          "direction" : "FROM",
          "maxLevel" : 10,
          "filters" : [ {
            "relationType" : "Contains",
            "entityTypes" : [ "DEVICE" ]
          } ]
        }
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "79434032-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "Sub Related",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.transform.TbDuplicateMsgToRelatedNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 1840,
        "layoutY" : 1404
      },
      "configuration" : {
        "jsScript" : "return metadata.deviceType == \"pencere\";"
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "79436740-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "Check deviceType",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.filter.TbJsFilterNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 1562,
        "layoutY" : 1402
      },
      "configuration" : {
        "fieldsMapping" : {
          "name" : "deviceName",
          "type" : "deviceType"
        }
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "79436741-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "add deviceName",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.metadata.TbGetOriginatorFieldsNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 2370,
        "layoutY" : 1404
      },
      "configuration" : {
        "integrationId" : "50198140-649b-11ec-86ca-29471b244c2b"
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "79436742-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "Downlink",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.integration.TbIntegrationDownlinkNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 717,
        "layoutY" : 1405
      },
      "configuration" : {
        "originatorSource" : "RELATED",
        "relationsQuery" : {
          "fetchLastLevelOnly" : false,
          "direction" : "TO",
          "maxLevel" : 1,
          "filters" : [ {
            "relationType" : "Senaryo",
            "entityTypes" : [ "CUSTOMER" ]
          } ]
        }
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "79436743-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "to Up",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.transform.TbChangeOriginatorNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 718,
        "layoutY" : 1338
      },
      "configuration" : {
        "scriptLang" : "JS",
        "jsScript" : "var newMsg= {};\nnewMsg.state = 1;\nmetadata.topic = 'blok/ABC/downlink';\nreturn {msg: newMsg, metadata: metadata, msgType: msgType};",
        "tbelScript" : null
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "79436744-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "state = 1, add Topic",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.transform.TbTransformMsgNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 1018,
        "layoutY" : 1336
      },
      "configuration" : {
        "integrationId" : "50198140-649b-11ec-86ca-29471b244c2b"
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "79438e50-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "downlink",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.integration.TbIntegrationDownlinkNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 432,
        "layoutY" : 1085
      },
      "configuration" : {
        "jsScript" : "return metadata.deviceType == \"ruzgar\";"
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "79438e51-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "ruzgar filter",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.filter.TbJsFilterNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 428,
        "layoutY" : 1197
      },
      "configuration" : {
        "jsScript" : "return metadata.deviceType == \"yagmur\";"
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "79438e52-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "yagmur filter",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.filter.TbJsFilterNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 432,
        "layoutY" : 1358
      },
      "configuration" : {
        "jsScript" : "return metadata.deviceType == \"deprem\";"
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "79438e53-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "deprem filter",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.filter.TbJsFilterNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 418,
        "layoutY" : 1558
      },
      "configuration" : {
        "jsScript" : "return metadata.deviceType == \"yangin\";"
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "79438e54-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "yangin filter",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.filter.TbJsFilterNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 1030,
        "layoutY" : 1097
      },
      "configuration" : {
        "jsScript" : "var newMsg = {};\nif (metadata.deviceName == \"A-Ruzgar\") {\n    newMsg.arAlarm = 1;\n} else if (metadata.deviceName == \"B-Ruzgar\") {\n    newMsg.brAlarm = 1;\n}\n\nvar msgType = \"POST_ATTRIBUTES_REQUEST\"\n\nreturn {msg: newMsg, metadata: metadata, msgType: msgType};"
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "7943b560-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "send Alarm info to Customer",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.transform.TbTransformMsgNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 1330,
        "layoutY" : 1096
      },
      "configuration" : {
        "scope" : "SERVER_SCOPE",
        "notifyDevice" : false
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "7943b561-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "Save Customer",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.telemetry.TbMsgAttributesNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 2289,
        "layoutY" : 1569
      },
      "configuration" : {
        "scriptLang" : "JS",
        "jsScript" : "metadata.topic = 'pencere/'+ metadata.deviceName + '/downlink'\nreturn {msg: msg, metadata: metadata, msgType: msgType};",
        "tbelScript" : null
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "7943b562-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "add Topic",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.transform.TbTransformMsgNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 1481,
        "layoutY" : 1562
      },
      "configuration" : {
        "jsScript" : "var newMsg = {};\nnewMsg.positionC = 6;\nreturn {msg: newMsg, metadata: metadata, msgType: msgType};"
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "7943b563-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "add positionC = 6",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.transform.TbTransformMsgNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 1197,
        "layoutY" : 1565
      },
      "configuration" : {
        "relationsQuery" : {
          "fetchLastLevelOnly" : false,
          "direction" : "FROM",
          "maxLevel" : 10,
          "filters" : [ {
            "relationType" : "Contains",
            "entityTypes" : [ "DEVICE" ]
          } ]
        }
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "7943b564-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "Sub Related",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.transform.TbDuplicateMsgToRelatedNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 2019,
        "layoutY" : 1567
      },
      "configuration" : {
        "jsScript" : "return metadata.deviceType == \"pencere\";"
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "7943dc70-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "Check deviceType",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.filter.TbJsFilterNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 1741,
        "layoutY" : 1565
      },
      "configuration" : {
        "fieldsMapping" : {
          "name" : "deviceName",
          "type" : "deviceType"
        }
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "7943dc71-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "add deviceName",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.metadata.TbGetOriginatorFieldsNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 2549,
        "layoutY" : 1567
      },
      "configuration" : {
        "integrationId" : "50198140-649b-11ec-86ca-29471b244c2b"
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "7943dc72-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "Downlink",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.integration.TbIntegrationDownlinkNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 896,
        "layoutY" : 1568
      },
      "configuration" : {
        "originatorSource" : "RELATED",
        "relationsQuery" : {
          "fetchLastLevelOnly" : false,
          "direction" : "TO",
          "maxLevel" : 1,
          "filters" : [ {
            "relationType" : "Senaryo",
            "entityTypes" : [ "CUSTOMER" ]
          } ]
        }
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "7943dc73-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "to Up",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.transform.TbChangeOriginatorNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 897,
        "layoutY" : 1501
      },
      "configuration" : {
        "scriptLang" : "JS",
        "jsScript" : "var newMsg= {};\nnewMsg.state = 1;\nmetadata.topic = 'blok/A/downlink';\nreturn {msg: newMsg, metadata: metadata, msgType: msgType};",
        "tbelScript" : null
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "7943dc74-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "state = 1, add Topic",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.transform.TbTransformMsgNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 1197,
        "layoutY" : 1499
      },
      "configuration" : {
        "integrationId" : "50198140-649b-11ec-86ca-29471b244c2b"
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "79440380-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "downlink",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.integration.TbIntegrationDownlinkNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 2283,
        "layoutY" : 1737
      },
      "configuration" : {
        "scriptLang" : "JS",
        "jsScript" : "metadata.topic = 'pencere/'+ metadata.deviceName + '/downlink'\nreturn {msg: msg, metadata: metadata, msgType: msgType};",
        "tbelScript" : null
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "79440381-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "add Topic",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.transform.TbTransformMsgNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 1475,
        "layoutY" : 1730
      },
      "configuration" : {
        "jsScript" : "var newMsg = {};\nnewMsg.positionC = 6;\nreturn {msg: newMsg, metadata: metadata, msgType: msgType};"
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "79440382-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "add positionC = 6",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.transform.TbTransformMsgNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 1191,
        "layoutY" : 1733
      },
      "configuration" : {
        "relationsQuery" : {
          "fetchLastLevelOnly" : false,
          "direction" : "FROM",
          "maxLevel" : 10,
          "filters" : [ {
            "relationType" : "Contains",
            "entityTypes" : [ "DEVICE" ]
          } ]
        }
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "79440383-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "Sub Related",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.transform.TbDuplicateMsgToRelatedNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 2013,
        "layoutY" : 1735
      },
      "configuration" : {
        "jsScript" : "return metadata.deviceType == \"pencere\";"
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "79440384-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "Check deviceType",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.filter.TbJsFilterNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 1735,
        "layoutY" : 1733
      },
      "configuration" : {
        "fieldsMapping" : {
          "name" : "deviceName",
          "type" : "deviceType"
        }
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "79440385-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "add deviceName",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.metadata.TbGetOriginatorFieldsNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 2550,
        "layoutY" : 1740
      },
      "configuration" : {
        "integrationId" : "50198140-649b-11ec-86ca-29471b244c2b"
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "79442a90-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "Downlink",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.integration.TbIntegrationDownlinkNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 890,
        "layoutY" : 1736
      },
      "configuration" : {
        "originatorSource" : "RELATED",
        "relationsQuery" : {
          "fetchLastLevelOnly" : false,
          "direction" : "TO",
          "maxLevel" : 1,
          "filters" : [ {
            "relationType" : "Senaryo",
            "entityTypes" : [ "CUSTOMER" ]
          } ]
        }
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "79442a91-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "to Up",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.transform.TbChangeOriginatorNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 891,
        "layoutY" : 1669
      },
      "configuration" : {
        "scriptLang" : "JS",
        "jsScript" : "var newMsg= {};\nnewMsg.state = 1;\nmetadata.topic = 'blok/B/downlink';\nreturn {msg: newMsg, metadata: metadata, msgType: msgType};",
        "tbelScript" : null
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "79442a92-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "state = 1, add Topic",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.transform.TbTransformMsgNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 1191,
        "layoutY" : 1667
      },
      "configuration" : {
        "integrationId" : "50198140-649b-11ec-86ca-29471b244c2b"
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "79442a93-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "downlink",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.integration.TbIntegrationDownlinkNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 2281,
        "layoutY" : 1915
      },
      "configuration" : {
        "scriptLang" : "JS",
        "jsScript" : "metadata.topic = 'pencere/'+ metadata.deviceName + '/downlink'\nreturn {msg: msg, metadata: metadata, msgType: msgType};",
        "tbelScript" : null
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "79442a94-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "add Topic",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.transform.TbTransformMsgNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 1473,
        "layoutY" : 1908
      },
      "configuration" : {
        "jsScript" : "var newMsg = {};\nnewMsg.positionC = 6;\nreturn {msg: newMsg, metadata: metadata, msgType: msgType};"
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "79442a95-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "add positionC = 6",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.transform.TbTransformMsgNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 1189,
        "layoutY" : 1911
      },
      "configuration" : {
        "relationsQuery" : {
          "fetchLastLevelOnly" : false,
          "direction" : "FROM",
          "maxLevel" : 10,
          "filters" : [ {
            "relationType" : "Contains",
            "entityTypes" : [ "DEVICE" ]
          } ]
        }
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "794451a0-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "Sub Related",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.transform.TbDuplicateMsgToRelatedNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 2011,
        "layoutY" : 1913
      },
      "configuration" : {
        "jsScript" : "return metadata.deviceType == \"pencere\";"
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "794451a1-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "Check deviceType",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.filter.TbJsFilterNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 1733,
        "layoutY" : 1911
      },
      "configuration" : {
        "fieldsMapping" : {
          "name" : "deviceName",
          "type" : "deviceType"
        }
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "794451a2-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "add deviceName",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.metadata.TbGetOriginatorFieldsNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 2550,
        "layoutY" : 1914
      },
      "configuration" : {
        "integrationId" : "50198140-649b-11ec-86ca-29471b244c2b"
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "794451a3-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "Downlink",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.integration.TbIntegrationDownlinkNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 888,
        "layoutY" : 1914
      },
      "configuration" : {
        "originatorSource" : "RELATED",
        "relationsQuery" : {
          "fetchLastLevelOnly" : false,
          "direction" : "TO",
          "maxLevel" : 1,
          "filters" : [ {
            "relationType" : "Senaryo",
            "entityTypes" : [ "CUSTOMER" ]
          } ]
        }
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "794451a4-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "to Up",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.transform.TbChangeOriginatorNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 889,
        "layoutY" : 1847
      },
      "configuration" : {
        "scriptLang" : "JS",
        "jsScript" : "var newMsg= {};\nnewMsg.state = 1;\nmetadata.topic = 'blok/C/downlink';\nreturn {msg: newMsg, metadata: metadata, msgType: msgType};",
        "tbelScript" : null
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "794451a5-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "state = 1, add Topic",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.transform.TbTransformMsgNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 1189,
        "layoutY" : 1845
      },
      "configuration" : {
        "integrationId" : "50198140-649b-11ec-86ca-29471b244c2b"
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "794478b0-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "downlink",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.integration.TbIntegrationDownlinkNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 656,
        "layoutY" : 1560
      },
      "configuration" : {
        "jsScript" : "    return metadata.deviceName == \"Yangın-A\";"
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "794478b1-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "Yangın-A",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.filter.TbJsFilterNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 655,
        "layoutY" : 1701
      },
      "configuration" : {
        "jsScript" : "return metadata.deviceName == \"Yangın-B\";"
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "794478b2-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "Yangın-B",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.filter.TbJsFilterNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 654,
        "layoutY" : 1883
      },
      "configuration" : {
        "jsScript" : "return metadata.deviceName == \"Yangın-C\";"
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "794478b3-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "Yangın-C",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.filter.TbJsFilterNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 2689,
        "layoutY" : 1096
      },
      "configuration" : {
        "scriptLang" : "JS",
        "jsScript" : "metadata.topic = 'pencere/'+ metadata.deviceName + '/downlink'\nreturn {msg: msg, metadata: metadata, msgType: msgType};",
        "tbelScript" : null
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "794478b4-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "add Topic",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.transform.TbTransformMsgNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 1881,
        "layoutY" : 1089
      },
      "configuration" : {
        "jsScript" : "var newMsg = {};\nnewMsg.positionC = 6;\nreturn {msg: newMsg, metadata: metadata, msgType: msgType};"
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "79449fc0-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "add positionC = 6",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.transform.TbTransformMsgNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 1597,
        "layoutY" : 1092
      },
      "configuration" : {
        "relationsQuery" : {
          "fetchLastLevelOnly" : false,
          "direction" : "FROM",
          "maxLevel" : 10,
          "filters" : [ {
            "relationType" : "Contains",
            "entityTypes" : [ "DEVICE" ]
          } ]
        }
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "79449fc1-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "Sub Related",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.transform.TbDuplicateMsgToRelatedNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 2419,
        "layoutY" : 1094
      },
      "configuration" : {
        "jsScript" : "return metadata.deviceType == \"pencere\";"
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "79449fc2-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "Check deviceType",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.filter.TbJsFilterNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 2141,
        "layoutY" : 1092
      },
      "configuration" : {
        "fieldsMapping" : {
          "name" : "deviceName",
          "type" : "deviceType"
        }
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "79449fc3-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "add deviceName",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.metadata.TbGetOriginatorFieldsNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 2951,
        "layoutY" : 1097
      },
      "configuration" : {
        "integrationId" : "50198140-649b-11ec-86ca-29471b244c2b"
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "79449fc4-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "Downlink",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.integration.TbIntegrationDownlinkNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 729,
        "layoutY" : 1096
      },
      "configuration" : {
        "originatorSource" : "RELATED",
        "relationsQuery" : {
          "fetchLastLevelOnly" : false,
          "direction" : "TO",
          "maxLevel" : 1,
          "filters" : [ {
            "relationType" : "Senaryo",
            "entityTypes" : [ "CUSTOMER" ]
          } ]
        }
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "79449fc5-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "to Up",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.transform.TbChangeOriginatorNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 2348,
        "layoutY" : 359
      },
      "configuration" : {
        "jsScript" : "metadata.topic = '/blok/ABC/downlink';\nreturn {msg: msg, metadata: metadata, msgType: msgType};"
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "7944c6d0-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "add Topic",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.transform.TbTransformMsgNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 2351,
        "layoutY" : 421
      },
      "configuration" : {
        "jsScript" : "metadata.topic = '/blok/ABC/downlink';\nreturn {msg: msg, metadata: metadata, msgType: msgType};"
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "7944c6d1-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "add Topic",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.transform.TbTransformMsgNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 2351,
        "layoutY" : 476
      },
      "configuration" : {
        "jsScript" : "metadata.topic = '/blok/ABC/downlink';\nreturn {msg: msg, metadata: metadata, msgType: msgType};"
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "7944c6d2-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "add Topic",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.transform.TbTransformMsgNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 2350,
        "layoutY" : 535
      },
      "configuration" : {
        "jsScript" : "metadata.topic = '/blok/ABC/downlink';\nreturn {msg: msg, metadata: metadata, msgType: msgType};"
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "7944c6d3-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "add Topic",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.transform.TbTransformMsgNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 2656,
        "layoutY" : 442
      },
      "configuration" : {
        "integrationId" : "3ee09690-27d7-11eb-9587-73a58adaa31c"
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "7944c6d4-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "downlink",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.integration.TbIntegrationDownlinkNode"
    }, {
      "additionalInfo" : {
        "description" : "Process incoming messages from devices with the alarm rules defined in the device profile. Dispatch all incoming messages with \"Success\" relation type.",
        "layoutX" : 108,
        "layoutY" : 880
      },
      "configuration" : {
        "persistAlarmRulesState" : false,
        "fetchAlarmRulesStateOnStart" : false
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "7944ede2-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "Device Profile Node",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.profile.TbDeviceProfileNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 726,
        "layoutY" : 1000
      },
      "configuration" : {
        "scriptLang" : "JS",
        "jsScript" : "var newMsg= {};\nnewMsg.state = 1;\nmetadata.topic = 'blok/ABC/downlink';\nreturn {msg: newMsg, metadata: metadata, msgType: msgType};",
        "tbelScript" : null
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "794514f4-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "state = 1,add Topic",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.transform.TbTransformMsgNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 1020,
        "layoutY" : 996
      },
      "configuration" : {
        "integrationId" : "50198140-649b-11ec-86ca-29471b244c2b"
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "794514f5-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "downlink",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.integration.TbIntegrationDownlinkNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 836,
        "layoutY" : 2446
      },
      "configuration" : {
        "scriptLang" : "JS",
        "jsScript" : "var newMsg= {};\n\nnewMsg.state = 0;\nmetadata.topic = 'blok/A/downlink';\nreturn {msg: newMsg, metadata: metadata, msgType: msgType};\n",
        "tbelScript" : null
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "79453c00-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "state = 0, add Topic",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.transform.TbTransformMsgNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 1120,
        "layoutY" : 2445
      },
      "configuration" : {
        "integrationId" : "50198140-649b-11ec-86ca-29471b244c2b"
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "79453c01-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "downlink",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.integration.TbIntegrationDownlinkNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 835,
        "layoutY" : 2537
      },
      "configuration" : {
        "scriptLang" : "JS",
        "jsScript" : "var newMsg= {};\n\nnewMsg.state = 0;\nmetadata.topic = 'blok/B/downlink';\nreturn {msg: newMsg, metadata: metadata, msgType: msgType};\n",
        "tbelScript" : null
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "79453c02-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "state = 0, add Topic",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.transform.TbTransformMsgNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 1121,
        "layoutY" : 2538
      },
      "configuration" : {
        "integrationId" : "50198140-649b-11ec-86ca-29471b244c2b"
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "79453c03-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "downlink",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.integration.TbIntegrationDownlinkNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 840,
        "layoutY" : 2641
      },
      "configuration" : {
        "scriptLang" : "JS",
        "jsScript" : "var newMsg= {};\n\nnewMsg.state = 0;\nmetadata.topic = 'blok/C/downlink';\nreturn {msg: newMsg, metadata: metadata, msgType: msgType};\n",
        "tbelScript" : null
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "79456310-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "state = 0, add Topic",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.transform.TbTransformMsgNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 1120,
        "layoutY" : 2640
      },
      "configuration" : {
        "integrationId" : "50198140-649b-11ec-86ca-29471b244c2b"
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "79456311-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "downlink",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.integration.TbIntegrationDownlinkNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 530,
        "layoutY" : 2445
      },
      "configuration" : {
        "jsScript" : "return metadata.deviceName == \"Yangın-A\";"
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "79456312-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "Yangın-A",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.filter.TbJsFilterNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 528,
        "layoutY" : 2540
      },
      "configuration" : {
        "jsScript" : "return metadata.deviceName == \"Yangın-B\";"
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "79456313-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "Yangın-B",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.filter.TbJsFilterNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 533,
        "layoutY" : 2640
      },
      "configuration" : {
        "jsScript" : "return metadata.deviceName == \"Yangın-C\";"
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "79458a20-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "Yangın-C",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.filter.TbJsFilterNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 567,
        "layoutY" : 2355
      },
      "configuration" : {
        "scriptLang" : "JS",
        "jsScript" : "var newMsg= {};\n\nnewMsg.state = 0;\nmetadata.topic = 'blok/ABC/downlink';\nreturn {msg: newMsg, metadata: metadata, msgType: msgType};\n",
        "tbelScript" : null
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "79458a21-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "state = 0, add Topic",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.transform.TbTransformMsgNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 851,
        "layoutY" : 2354
      },
      "configuration" : {
        "integrationId" : "50198140-649b-11ec-86ca-29471b244c2b"
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "79458a22-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "downlink",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.integration.TbIntegrationDownlinkNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 267,
        "layoutY" : 2161
      },
      "configuration" : {
        "jsScript" : "return metadata.deviceType == \"ruzgar\";"
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "79458a23-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "ruzgar filter",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.filter.TbJsFilterNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 263,
        "layoutY" : 2273
      },
      "configuration" : {
        "jsScript" : "return metadata.deviceType == \"yagmur\";"
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "79458a24-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "yagmur filter",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.filter.TbJsFilterNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 265,
        "layoutY" : 2352
      },
      "configuration" : {
        "jsScript" : "return metadata.deviceType == \"deprem\";"
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "7945b130-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "deprem filter",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.filter.TbJsFilterNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 258,
        "layoutY" : 2439
      },
      "configuration" : {
        "jsScript" : "return metadata.deviceType == \"yangin\";"
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "7945b131-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "yangin filter",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.filter.TbJsFilterNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 1720,
        "layoutY" : 2160
      },
      "configuration" : {
        "scriptLang" : "JS",
        "jsScript" : "var newMsg= {};\nif(metadata.ss_arAlarm == 0 && metadata.ss_brAlarm == 0) {\n    newMsg.state = 0;\n    metadata.topic = 'blok/ABC/downlink';\n    return {msg: newMsg, metadata: metadata, msgType: msgType};\n} else {\n    return {msg: newMsg, metadata: metadata, msgType: msgType};\n}",
        "tbelScript" : null
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "7945b132-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "state = 0, add Topic",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.transform.TbTransformMsgNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 2001,
        "layoutY" : 2159
      },
      "configuration" : {
        "integrationId" : "50198140-649b-11ec-86ca-29471b244c2b"
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "7945b133-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "downlink",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.integration.TbIntegrationDownlinkNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 567,
        "layoutY" : 2160
      },
      "configuration" : {
        "originatorSource" : "RELATED",
        "relationsQuery" : {
          "fetchLastLevelOnly" : false,
          "direction" : "TO",
          "maxLevel" : 1,
          "filters" : [ {
            "relationType" : "Senaryo",
            "entityTypes" : [ "CUSTOMER" ]
          } ]
        }
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "7945b134-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "to Up",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.transform.TbChangeOriginatorNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 874,
        "layoutY" : 2162
      },
      "configuration" : {
        "jsScript" : "if (metadata.deviceName == \"A-Ruzgar\") {\n    msg.arAlarm = 0;\n} else if (metadata.deviceName == \"B-Ruzgar\") {\n    msg.brAlarm = 0;\n}\n\nvar msgType = \"POST_ATTRIBUTES_REQUEST\"\n\nreturn {msg: msg, metadata: metadata, msgType: msgType};"
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "7945b135-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "send Alarm info to Customer",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.transform.TbTransformMsgNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 1155,
        "layoutY" : 2162
      },
      "configuration" : {
        "scope" : "SERVER_SCOPE",
        "notifyDevice" : false
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "7945d840-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "Save Customer",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.telemetry.TbMsgAttributesNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 1421,
        "layoutY" : 2161
      },
      "configuration" : {
        "tellFailureIfAbsent" : true,
        "clientAttributeNames" : [ ],
        "sharedAttributeNames" : [ ],
        "serverAttributeNames" : [ "arAlarm", "brAlarm" ],
        "latestTsKeyNames" : [ ],
        "getLatestValueWithTs" : false
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "7945d841-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "get arAlarm and brAlarm",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.metadata.TbGetAttributesNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 2120,
        "layoutY" : 1239
      },
      "configuration" : {
        "scriptLang" : "JS",
        "jsScript" : "metadata.topic = 'pencere/'+ metadata.deviceName + '/downlink'\nreturn {msg: msg, metadata: metadata, msgType: msgType};",
        "tbelScript" : null
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "7945d842-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "add Topic",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.transform.TbTransformMsgNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 1312,
        "layoutY" : 1232
      },
      "configuration" : {
        "jsScript" : "var newMsg = {};\nnewMsg.positionC = 6;\nreturn {msg: newMsg, metadata: metadata, msgType: msgType};"
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "7945d843-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "add positionC = 6",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.transform.TbTransformMsgNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 1028,
        "layoutY" : 1235
      },
      "configuration" : {
        "relationsQuery" : {
          "fetchLastLevelOnly" : false,
          "direction" : "FROM",
          "maxLevel" : 10,
          "filters" : [ {
            "relationType" : "Contains",
            "entityTypes" : [ "DEVICE" ]
          } ]
        }
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "7945d844-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "Sub Related",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.transform.TbDuplicateMsgToRelatedNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 1850,
        "layoutY" : 1237
      },
      "configuration" : {
        "jsScript" : "return metadata.deviceType == \"pencere\";"
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "7945d845-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "Check deviceType",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.filter.TbJsFilterNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 1572,
        "layoutY" : 1235
      },
      "configuration" : {
        "fieldsMapping" : {
          "name" : "deviceName",
          "type" : "deviceType"
        }
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "7945ff50-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "add deviceName",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.metadata.TbGetOriginatorFieldsNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 2375,
        "layoutY" : 1241
      },
      "configuration" : {
        "integrationId" : "50198140-649b-11ec-86ca-29471b244c2b"
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "7945ff51-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "Downlink",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.integration.TbIntegrationDownlinkNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 727,
        "layoutY" : 1238
      },
      "configuration" : {
        "originatorSource" : "RELATED",
        "relationsQuery" : {
          "fetchLastLevelOnly" : false,
          "direction" : "TO",
          "maxLevel" : 1,
          "filters" : [ {
            "relationType" : "Senaryo",
            "entityTypes" : [ "CUSTOMER" ]
          } ]
        }
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "7945ff52-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "to Up",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.transform.TbChangeOriginatorNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 728,
        "layoutY" : 1171
      },
      "configuration" : {
        "scriptLang" : "JS",
        "jsScript" : "var newMsg= {};\nnewMsg.state = 1;\nmetadata.topic = 'blok/ABC/downlink';\nreturn {msg: newMsg, metadata: metadata, msgType: msgType};",
        "tbelScript" : null
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "7945ff53-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "state = 1, add Topic",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.transform.TbTransformMsgNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 1028,
        "layoutY" : 1169
      },
      "configuration" : {
        "integrationId" : "50198140-649b-11ec-86ca-29471b244c2b"
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "7945ff54-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "downlink",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.integration.TbIntegrationDownlinkNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 567,
        "layoutY" : 2272
      },
      "configuration" : {
        "scriptLang" : "JS",
        "jsScript" : "var newMsg= {};\n\nnewMsg.state = 0;\nmetadata.topic = 'blok/ABC/downlink';\nreturn {msg: newMsg, metadata: metadata, msgType: msgType};\n",
        "tbelScript" : null
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "79462660-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "state = 0, add Topic",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.transform.TbTransformMsgNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 852,
        "layoutY" : 2273
      },
      "configuration" : {
        "integrationId" : "50198140-649b-11ec-86ca-29471b244c2b"
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "79462661-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "downlink",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.integration.TbIntegrationDownlinkNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 60,
        "layoutY" : 341
      },
      "configuration" : {
        "queueName" : "SequentialByOriginator"
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "79462662-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "SequentialByOriginator",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.flow.TbCheckpointNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 519,
        "layoutY" : 885
      },
      "configuration" : {
        "queueName" : "SequentialByOriginator"
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "79462663-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "checkpoint",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.flow.TbCheckpointNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 94,
        "layoutY" : 1992
      },
      "configuration" : {
        "queueName" : "SequentialByOriginator"
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "79462664-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "checkpoint",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.flow.TbCheckpointNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 429,
        "layoutY" : 976
      },
      "configuration" : {
        "scriptLang" : "JS",
        "jsScript" : "return msg.type != \"Haberleşme Yok!\";",
        "tbelScript" : null
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "79464d70-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "alarm type check",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.filter.TbJsFilterNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 172,
        "layoutY" : 2069
      },
      "configuration" : {
        "scriptLang" : "JS",
        "jsScript" : "return msg.type != \"Haberleşme Yok!\";",
        "tbelScript" : null
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "79464d71-b69b-11ed-a59b-fb6dc01397e0"
      },
      "name" : "alarm type check",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.filter.TbJsFilterNode"
    }, {
      "additionalInfo" : {
        "layoutX" : 796,
        "layoutY" : 245
      },
      "configuration" : {
        "version" : 0
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ae9ab300-b8ec-11ed-9b59-e71579f6e269"
      },
      "name" : "Message Type Switch",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.filter.TbMsgTypeSwitchNode"
    }, {
      "additionalInfo" : {
        "layoutX" : 485,
        "layoutY" : 244
      },
      "configuration" : {
        "originatorTypes" : [ "ENTITY_GROUP" ]
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "aeb00fc0-b8ec-11ed-9b59-e71579f6e269"
      },
      "name" : "Is Entity Group",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.filter.TbOriginatorTypeFilterNode"
    }, {
      "additionalInfo" : {
        "layoutX" : 549,
        "layoutY" : 52
      },
      "configuration" : {
        "messageTypes" : [ "POST_ATTRIBUTES_REQUEST", "RPC_CALL_FROM_SERVER_TO_DEVICE" ]
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "aeb0ac00-b8ec-11ed-9b59-e71579f6e269"
      },
      "name" : "Post attributes or RPC request",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.filter.TbMsgTypeFilterNode"
    }, {
      "additionalInfo" : {
        "layoutX" : 857,
        "layoutY" : 51
      },
      "configuration" : {
        "entityGroupId" : null,
        "entityGroupIsMessageOriginator" : true
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "aeb0fa20-b8ec-11ed-9b59-e71579f6e269"
      },
      "name" : "Duplicate To Group Entities",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.transform.TbDuplicateMsgToGroupNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 1163,
        "layoutY" : 251
      },
      "configuration" : {
        "defaultTTL" : 0,
        "skipLatestPersistence" : false,
        "useServerTs" : false
      },
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "aeb14840-b8ec-11ed-9b59-e71579f6e269"
      },
      "name" : "save timeseries",
      "ruleChainId" : null,
      "type" : "org.thingsboard.rule.engine.telemetry.TbMsgTimeseriesNode"
    } ],
    "ruleChainConnections" : null
  },
  "relations" : [ ],
  "attributes" : {
    "SERVER_SCOPE" : [ ]
  }
}